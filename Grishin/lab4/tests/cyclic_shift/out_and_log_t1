==========OUT==========
3
========END OUT========

==========LOG==========
Imagine the haystack like concatenation of shifted string with itself, 
and the base string as the needle

prefix function initiated for "abcdef" pattern
prefix function is: 0 0 0 0 0 0

initial state
-----------
V
defabcdefab
abcdef
^
-----------

mismatch on frist symbol of base string 
move shifted carriage
-----------
V
defabcdefab
abcdef
^
-----------

mismatch on frist symbol of base string 
move shifted carriage
-----------
 V
defabcdefab
 abcdef
 ^
-----------

mismatch on frist symbol of base string 
move shifted carriage
-----------
  V
defabcdefab
  abcdef
  ^
-----------

characters match, move carriage
-----------
   V
defabcdefab
   abcdef
   ^
-----------

characters match, move carriage
-----------
    V
defabcdefab
   abcdef
    ^
-----------

characters match, move carriage
-----------
     V
defabcdefab
   abcdef
     ^
-----------

characters match, move carriage
-----------
      V
defabcdefab
   abcdef
      ^
-----------

characters match, move carriage
-----------
       V
defabcdefab
   abcdef
       ^
-----------

charachers match,
pattern carriage equal to pattern size
it means, we found the shift of base string
-----------
        V
defabcdefab
   abcdef
        ^
-----------
========END LOG========

